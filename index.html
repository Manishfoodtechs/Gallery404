
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Gallery 404</title>
        <link rel="stylesheet" type="text/css" href="style.css">
        <script src="js/jquery.min.js"></script>
        <script src="js/init.js"></script>
        <script src="js/Detector.js"></script>
        <script src="js/three.min.js"></script>
        <script src="js/THREEx.screenshot.js"></script>
        <script src="js/GeometryUtils.js"></script>
        <script src="js/PointerLockControls.js"></script>
        <script src="loaders/BinaryLoader.js"></script>
        <script src="loaders/OBJMTLLoader.js"></script>
        <script src="loaders/OBJLoader.js"></script>
        <script src="loaders/MTLLoader.js"></script>
        <script src="loaders/ColladaLoader.js"></script>
    </head>

    <body>


        <div id="blocker">


            <div id="leftPanel">
              <div id="leftWrapper">
              <div id="intro">
              <img src="textures/logo.png" />
              <p>The world’s first browser-based, open source 3D art gallery.</p>
              </div>
              <div id="instructions">
                <h2> To explore:</h2>
                  <div class="click">
                    <img src="textures/click.svg" /> <p> Click anywhere on the screen to start </p>
                  </div>
                  <div class="keyboard">
                    <img src="textures/keyboard.svg" /> <p> Use your keyboard to move </p>
                  </div>
                  <div class="mouse">
                    <img src="textures/mouse.svg" /> <p> Use your mouse to look </p>
                  </div>
                <h2> To create:</h2>
                  <div class="create">
                    <img src="textures/github.svg" /><p> Fork us on GitHub </p>
                  </div>
              </div>

              <div id="credits">
                  <p>GALLERY404 is built with webGL using mr.doob’s <a href="http://www.threejs.org" target="_blank">three.js</a> with 3D models sourced from the internet.<br/><br/>All inquiries can be sent to info@art404.com</p>
              </div>
            </div>
            </div>

            <div id="rightPanel">
              <h2> Current Show: </h2>
              <h1> Classics </h1>
              <img src="textures/koonsheadspin.gif"/><img src="textures/whiteheadspin.gif"/><img src="textures/warholheadspin.gif"/><img src="textures/krugerheadspin.gif"/><img src="textures/brancusiheadspin.gif"/>
              <p>Guccivuitton is pleased to announce our inaugural exhibition, IRL (In Real Life) by the art and design collaborative ART404.
              Working within a Post-Internet framework; ART404 examines the field of art through a deep
              understanding of black market economies and hacker culture. ART404’s work seamlessly combines and
              exploits ‘Corporate America’s’ understanding of branding and marketing within their own branding
              techniques as both artists and designers.<br /><br /> Included in the show will be a collection of shirts from their fashion
              label Maybe Legal Apparel. The shirts are designed using branding strategies from identities such as Paul
              Frank, 3M, Nike, Disney, Pepsi and Pollo Tropical. The multiplicity of references forces a familiarity that
              fails at pointing you in any one direction.
              <br /><br />
              Their practice; which functions more like an open source community, employs anything and anyone to
              participate in their constant identity makeover. In another work; Anonymous Vs. Gagosian, ART404
              collaborated with a member of the hacker group Anonymous in order to temporarily take down ,
              2 3
              gagosian.com, tate.org.uk, davidzwirner.com and other major art websites.
               </p>
            </div>



        </div>



        <div id ="controls">
            <div id="q" class="key">Q<br /><span class="key-info">Turn Left</span></div><div id="w" class="key">W<br /><span class="key-info">Forward</span></div><div id="e" class="key">E<br /><span class="key-info">Turn Right</span></div> <br />
            <div id="a" class="key">A<br /><span class="key-info">Move Left</span></div><div id="s" class="key">S<br /><span class="key-info">Backwards</span></div><div id="d" class="key">D<br /><span class="key-info">Move Right</span></div>
        </div>






        <script>

            var camera, scene, renderer;
            var geometry, material, mesh;
            var controls,time = Date.now();
            var objects = [];
            var ray;           
            var blocker = document.getElementById( 'blocker' );
            var instructions = document.getElementById( 'instructions' );


            var havePointerLock = 'pointerLockElement' in document || 'mozPointerLockElement' in document || 'webkitPointerLockElement' in document;

            if ( havePointerLock ) {
              var element = document.body;
              var pointerlockchange = function ( event ) {
                if ( document.pointerLockElement === element || document.mozPointerLockElement === element || document.webkitPointerLockElement === element ) {
                  controls.enabled = true;
                  blocker.style.display = 'none';
                } else {
                  controls.enabled = false;
                  blocker.style.display = 'block';
                  instructions.style.display = 'block';
                }
              }
              var pointerlockerror = function ( event ) {
                instructions.style.display = '';
              }
              // Hook pointer lock state change events
              document.addEventListener( 'pointerlockchange', pointerlockchange, false );
              document.addEventListener( 'mozpointerlockchange', pointerlockchange, false );
              document.addEventListener( 'webkitpointerlockchange', pointerlockchange, false );

              document.addEventListener( 'pointerlockerror', pointerlockerror, false );
              document.addEventListener( 'mozpointerlockerror', pointerlockerror, false );
              document.addEventListener( 'webkitpointerlockerror', pointerlockerror, false );

              instructions.addEventListener( 'click', function ( event ) {
                instructions.style.display = 'none';

                // Ask the browser to lock the pointer
                element.requestPointerLock = element.requestPointerLock || element.mozRequestPointerLock || element.webkitRequestPointerLock;
                if ( /Firefox/i.test( navigator.userAgent ) ) {
                  var fullscreenchange = function ( event ) {
                    if ( document.fullscreenElement === element || document.mozFullscreenElement === element || document.mozFullScreenElement === element ) {
                      document.removeEventListener( 'fullscreenchange', fullscreenchange );
                      document.removeEventListener( 'mozfullscreenchange', fullscreenchange );
                      element.requestPointerLock();
                    }
                  }

                  document.addEventListener( 'fullscreenchange', fullscreenchange, false );
                  document.addEventListener( 'mozfullscreenchange', fullscreenchange, false );

                  element.requestFullscreen = element.requestFullscreen || element.mozRequestFullscreen || element.mozRequestFullScreen || element.webkitRequestFullscreen;
                  element.requestFullscreen();
                } else {
                  element.requestPointerLock();
                }
              }, false );
            } else {
              instructions.innerHTML = 'Your browser doesn\'t seem to support Pointer Lock API';
            }


            function init() {


                            /////////////////////////////////////
                            //** -- ENVIRONMENT ELEMENTS -- **//
                            ///////////////////////////////////

                camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 1, 1000 );
                scene = new THREE.Scene();
                scene.fog = new THREE.Fog( 0xffffff, 0, 750 );
                var light = new THREE.DirectionalLight( 0xffffff, 1.5 );
                light.position.set( 1, 1, 1 );
                scene.add( light );
                var light = new THREE.DirectionalLight( 0xffffff, 0.75 );
                light.position.set( -1, - 0.5, -1 );
                scene.add( light );
                controls = new THREE.PointerLockControls( camera );
                scene.add( controls.getObject() );
                ray = new THREE.Raycaster();
                ray.ray.direction.set( 0, -1, 0 );


                geometry = new THREE.PlaneGeometry( 1250, 1250, 100, 100 );
                geometry.applyMatrix( new THREE.Matrix4().makeRotationX( - Math.PI / 2 ) );


                var material = new THREE.MeshLambertMaterial({
                map: THREE.ImageUtils.loadTexture('textures/marble.png')
                });
                mesh = new THREE.Mesh( geometry, material );
                scene.add( mesh );
                              

                                /////////////////////////////////
                                //** -- ART OBJECT MODELS -- **//
                                /////////////////////////////////


                   //------------------- BRILLO BOXES -----------------//
                   var materials = [
                   new THREE.MeshLambertMaterial({
                       map: THREE.ImageUtils.loadTexture('textures/BrilloBox.png')
                   }),
                   new THREE.MeshLambertMaterial({
                       map: THREE.ImageUtils.loadTexture('textures/BrilloBox.png')
                   }),
                   new THREE.MeshLambertMaterial({
                       map: THREE.ImageUtils.loadTexture('textures/BrilloBoxTop.png')
                   }),
                   new THREE.MeshLambertMaterial({
                       map: THREE.ImageUtils.loadTexture('textures/BrilloBoxTop.png')
                   }),
                   new THREE.MeshLambertMaterial({
                       map: THREE.ImageUtils.loadTexture('textures/BrilloBox.png')
                   }),
                   new THREE.MeshLambertMaterial({
                       map: THREE.ImageUtils.loadTexture('textures/BrilloBox.png')
                   })
                ];
                   brillo = new THREE.Mesh(
                        new THREE.CubeGeometry( 40,40,40 ),
                        new THREE.MeshFaceMaterial( materials ) );
                   brillo.position.y = 25;
                   brillo.position.z = 400;
                   brillo.position.x = -200;
                   scene.add( brillo );
                   objects.push ( brillo );

                   brillo2 = brillo.clone();
                   brillo2.position.y = 50;
                   brillo2.position.z = 400;
                   brillo2.position.x = -250;
                   scene.add( brillo2 );
                   objects.push ( brillo2 );

                   brillo3 = brillo.clone();
                   brillo3.position.y = 75;
                   brillo3.position.z = 375;
                   brillo3.position.x = -320;
                   scene.add( brillo3 );
                   objects.push ( brillo3 );

                   brillo4 = brillo.clone();
                   brillo4.position.y = 100;
                   brillo4.position.z = 200;
                   brillo4.position.x = -475;
                   scene.add( brillo4 );
                   objects.push ( brillo4 );

                   brillo5 = brillo.clone();
                   brillo5.position.y = 120;
                   brillo5.position.z = 530;
                   brillo5.position.x = -360;
                   scene.add( brillo5 );
                   objects.push ( brillo5 );

                   brillo6 = brillo.clone();
                   brillo6.position.y = 150;
                   brillo6.position.z = 450;
                   brillo6.position.x = -260;
                   scene.add( brillo6 );
                   objects.push ( brillo6 );

                   brillo7 = brillo.clone();
                   brillo7.position.y = 170;
                   brillo7.position.z = 550;
                   brillo7.position.x = -430;
                   scene.add( brillo7 );
                   objects.push ( brillo7 );

                   brillo8 = brillo.clone();
                   brillo8.position.y = 150;
                   brillo8.position.z = 350;
                   brillo8.position.x = -530;
                   scene.add( brillo8 );
                   objects.push ( brillo8 );

                   brillo9 = brillo.clone();
                   brillo9.position.y = 100;
                   brillo9.position.z = 300;
                   brillo9.position.x = -400;
                   scene.add( brillo9 );
                   objects.push ( brillo9 );

                   brillo10 = brillo.clone();
                   brillo10.position.y = 55;
                   brillo10.position.z = 460;
                   brillo10.position.x = -370;
                   scene.add( brillo10 );
                   objects.push ( brillo10 );

                   brillo11 = brillo.clone();
                   brillo11.position.y = 300;
                   brillo11.position.z = 425;
                   brillo11.position.x = -320;
                   scene.add( brillo11 );
                   objects.push ( brillo11 );

                   brillo12 = brillo.clone();
                   brillo12.position.y = 125;
                   brillo12.position.z = 370;
                   brillo12.position.x = -250;
                   scene.add( brillo12 );
                   objects.push ( brillo12 );

                   brillo13 = brillo.clone();
                   brillo13.position.y = 250;
                   brillo13.position.z = 450;
                   brillo13.position.x = -300;
                   scene.add( brillo13 );
                   objects.push ( brillo13 );

                   brillo14 = brillo.clone();
                   brillo14.position.y = 175;
                   brillo14.position.z = 320;
                   brillo14.position.x = -400;
                   scene.add( brillo14 );
                   objects.push ( brillo14 );

                   brillo15 = brillo.clone();
                   brillo15.position.y = 250;
                   brillo15.position.z = 500;
                   brillo15.position.x = -260;
                   scene.add( brillo15 );
                   objects.push ( brillo15 );

                   brillo16 = brillo.clone();
                   brillo16.position.y = 200;
                   brillo16.position.z = 420;
                   brillo16.position.x = -270;
                   scene.add( brillo16 );
                   objects.push ( brillo16 );

                   brillo17 = brillo.clone();
                   brillo17.position.y = 270;
                   brillo17.position.z = 300;
                   brillo17.position.x = -250;
                   scene.add( brillo17 );
                   objects.push ( brillo17 );

                   brillo18 = brillo.clone();
                   brillo18.position.y = 250;
                   brillo18.position.z = 350;
                   brillo18.position.x = -500;
                   scene.add( brillo18 );
                   objects.push ( brillo18 );

                   brillo19 = brillo.clone();
                   brillo19.position.y = 300;
                   brillo19.position.z = 300;
                   brillo19.position.x = -400;
                   scene.add( brillo19 );
                   objects.push ( brillo19 );

                   brillo20 = brillo.clone();
                   brillo20.position.y = 375;
                   brillo20.position.z = 400;
                   brillo20.position.x = -350;
                   scene.add( brillo20 );
                   objects.push ( brillo20 );

                   brillo21 = brillo.clone();
                   brillo21.position.y = 350;
                   brillo21.position.z = 425;
                   brillo21.position.x = -300;
                   scene.add( brillo21 );
                   objects.push ( brillo21 );
                   
                   bonusPlatform = new THREE.CubeGeometry( 120, 10, 120 );
                   material = new THREE.MeshLambertMaterial( {ambient: 0xffffff} );

                   var bonusMesh = new THREE.Mesh( bonusPlatform, material );
                   bonusMesh.position.x = -300;
                   bonusMesh.position.y = 400;
                   bonusMesh.position.z = 500;
                   scene.add( bonusMesh );
                   objects.push( bonusMesh );

                var brilloMaterials = [
                new THREE.MeshBasicMaterial( {} ),
                new THREE.MeshBasicMaterial( {} ),
                new THREE.MeshBasicMaterial( {} ),
                new THREE.MeshBasicMaterial( {} ),
                new THREE.MeshLambertMaterial({
                    ambient: 0xffffff,
                    map: THREE.ImageUtils.loadTexture( 'textures/warholCard.png' ) }),
                new THREE.MeshBasicMaterial( {} )
                ];

                brilloLabel = new THREE.Mesh(
                new THREE.CubeGeometry( 10, 5, 0.5),
                new THREE.MeshFaceMaterial( brilloMaterials ) );
                scene.add( brilloLabel );
                brilloLabel.position.y = 32.5;
                brilloLabel.position.x = -220;
                brilloLabel.position.z = 250;
                brilloLabel.rotation.y = 90;



                //------------------- DUCHAMP URINAL -----------------//

                var loader = new THREE.OBJMTLLoader();
                loader.addEventListener( 'load', function ( event ) {
                    var object = event.content;
                    object.position.y =  400;
                    object.position.x = -300;
                    object.position.z = 525;
                    object.rotation.x = -Math.PI / 2; 
                    object.rotation.z = -Math.PI; 
                    object.scale.x = .8;
                    object.scale.y = .8;
                    object.scale.z = .8;
                    scene.add( object );
                });
                loader.load( 'models/Rmutt.obj', 'models/Rmutt.mtl' );

                var duchampMaterials = [
                new THREE.MeshBasicMaterial( {} ),
                new THREE.MeshBasicMaterial( {} ),
                new THREE.MeshBasicMaterial( {} ),
                new THREE.MeshBasicMaterial( {} ),
                new THREE.MeshLambertMaterial({
                    ambient: 0xffffff,
                    map: THREE.ImageUtils.loadTexture( 'textures/duchampCard.png' ) }),
                new THREE.MeshBasicMaterial( {} )
                ];

                duchampLabel = new THREE.Mesh(
                new THREE.CubeGeometry( 10, 5, 0.5),
                new THREE.MeshFaceMaterial( duchampMaterials ) );
                scene.add( duchampLabel );
                duchampLabel.position.y = 442.5;
                duchampLabel.position.x = -320;
                duchampLabel.position.z = 500;
                duchampLabel.rotation.y = -Math.PI; 

              
                //------------------- ENDLESS TOWER -----------------//

                var loader = new THREE.ColladaLoader();
                var endlessTexture = new THREE.MeshLambertMaterial({
                    map: THREE.ImageUtils.loadTexture( 'textures/endlessTexture.png' ) 
                });
                loader.load('models/endless.dae', function (result) {
                    scene.add(result.scene);
                    result.scene.position.y =  -10;
                    result.scene.position.x =  -100;
                    // result.scene.position.x =  0;
                    // result.scene.position.z =  300;
                    result.scene.scale.x = .3;
                    result.scene.scale.y = .3;
                    result.scene.scale.z = .3;
                    result.scene.rotation.x = -Math.PI / 2;                   
                });

                var endlessMaterials = [
                new THREE.MeshBasicMaterial( {} ),
                new THREE.MeshBasicMaterial( {} ),
                new THREE.MeshBasicMaterial( {} ),
                new THREE.MeshBasicMaterial( {} ),
                new THREE.MeshLambertMaterial({
                    ambient: 0xffffff,
                    map: THREE.ImageUtils.loadTexture( 'textures/endlessCard.png' ) }),
                new THREE.MeshBasicMaterial( {} )
                ];

                endlessLabel = new THREE.Mesh(
                new THREE.CubeGeometry( 10, 5, 0.5),
                new THREE.MeshFaceMaterial( endlessMaterials ) );
                scene.add( endlessLabel );
                endlessLabel.position.y = 32.5;
                endlessLabel.position.x = 500;
                endlessLabel.position.z = -100;
                endlessLabel.rotation.y = -Math.PI / 2;  


                //------------------- KOONS BALLOON DOG -----------------//


                var jsonLoader = new THREE.JSONLoader();
                jsonLoader.load( "models/koons.js", addModelToScene );


                function addModelToScene( geometry, materials ) {
                var path = "textures/cube/SwedishRoyalCastle/";
                var format = '.jpg';
                var urls = [
                        path + 'px' + format, path + 'nx' + format,
                        path + 'py' + format, path + 'ny' + format,
                        path + 'pz' + format, path + 'nz' + format
                    ];
                var reflectionCube = THREE.ImageUtils.loadTextureCube( urls );
                reflectionCube.format = THREE.RGBFormat;
                var refractionCube = new THREE.Texture( reflectionCube.image, new THREE.CubeRefractionMapping() );
                refractionCube.format = THREE.RGBFormat;
                var material = new THREE.MeshLambertMaterial( { color: 0xffee00, ambient: 0x996600,  envMap: reflectionCube, combine: THREE.MixOperation, reflectivity: 0.75} );

                koons = new THREE.Mesh( geometry, material );

                koons.scale.x = 10;
                koons.scale.y = 10;
                koons.scale.z = 10;
                koons.position.x = 5;
                koons.position.y = 15;
                koons.position.z = 150;
                scene.add(koons);

                function deflate() {
                setInterval(function() {
                    if (koons.scale.x > 10 ) {
                        koons.scale.x -= .1; 
                        koons.scale.y -=.025;                    
                    }
                    else  if (koons.scale.x < 10){
                        clearInterval();
                        inflate();
                    }
                }, 0050);
                }
                function inflate() {
                setInterval(function() {
                    if (koons.scale.x < 20 ) {
                        koons.scale.x += .1;
                        koons.scale.y += .025;
                    }
                    else if (koons.scale.x > 20){
                        clearInterval();
                        deflate();
                    }
                }, 0050);
                }
                inflate();
                }

                koonsPlatform = new THREE.CubeGeometry( 120, 10, 120 );

                var koonsMaterials = [
                new THREE.MeshBasicMaterial( {} ),
                new THREE.MeshBasicMaterial( {} ),
                new THREE.MeshBasicMaterial( {} ),
                new THREE.MeshBasicMaterial( {} ),
                new THREE.MeshLambertMaterial({
                    ambient: 0xffffff,
                    map: THREE.ImageUtils.loadTexture( 'textures/koonsCard.png' ) }),
                new THREE.MeshBasicMaterial( {} )
                ];
                koonsLabel = new THREE.Mesh(
                new THREE.CubeGeometry( 10, 5, 0.5),
                new THREE.MeshFaceMaterial( koonsMaterials ) );
                scene.add( koonsLabel );
                koonsLabel.position.y = 32.5;
                koonsLabel.position.x = 45;
                koonsLabel.position.z = -279.5;

                material = new THREE.MeshBasicMaterial( {} );
                var mesh = new THREE.Mesh( koonsPlatform, material );
                mesh.position.x = -10;
                mesh.position.y = 10;
                mesh.position.z = -340;
                mesh.rotation.y = 0


                scene.add(mesh); 
                objects.push( mesh );


                //------------------- KRUGER WALL -----------------//

                var krugerMaterials = [
                new THREE.MeshBasicMaterial( { } ),
                new THREE.MeshBasicMaterial( { } ),
                new THREE.MeshBasicMaterial( { } ),
                new THREE.MeshBasicMaterial( { } ),
                new THREE.MeshLambertMaterial({ }),
                new THREE.MeshBasicMaterial( { 
                    ambient: 0xffffff,
                    map: THREE.ImageUtils.loadTexture( 'textures/kruger1.png' )} )
                ];

                krugerWall = new THREE.Mesh(
                new THREE.CubeGeometry( 400, 600, 20),
                new THREE.MeshFaceMaterial( krugerMaterials ) );
                scene.add( krugerWall );
                krugerWall.position.y = 300;
                krugerWall.position.x = 435;
                krugerWall.position.z = 500;
                krugerWall.rotation.y = -125; 


                var krugerMaterials2 = [
                new THREE.MeshBasicMaterial( { } ),
                new THREE.MeshBasicMaterial( { } ),
                new THREE.MeshBasicMaterial( { } ),
                new THREE.MeshBasicMaterial( { } ),
                new THREE.MeshLambertMaterial({ }),
                new THREE.MeshBasicMaterial( { 
                    ambient: 0xffffff,
                    map: THREE.ImageUtils.loadTexture( 'textures/kruger2.png' )} )
                ];

                krugerWall2 = new THREE.Mesh(
                new THREE.CubeGeometry( 400, 600, 20),
                new THREE.MeshFaceMaterial( krugerMaterials2 ) );
                krugerWall2.position.y = 300;
                krugerWall2.position.x = 435;
                krugerWall2.position.z = 500;
                krugerWall2.rotation.y = -125;

                var krugerMaterials3 = [
                new THREE.MeshBasicMaterial( { } ),
                new THREE.MeshBasicMaterial( { } ),
                new THREE.MeshBasicMaterial( { } ),
                new THREE.MeshBasicMaterial( { } ),
                new THREE.MeshLambertMaterial({ }),
                new THREE.MeshBasicMaterial( { 
                    ambient: 0xffffff,
                    map: THREE.ImageUtils.loadTexture( 'textures/kruger3.png' )} )
                ];

                krugerWall3 = new THREE.Mesh(
                new THREE.CubeGeometry( 400, 600, 20),
                new THREE.MeshFaceMaterial( krugerMaterials3 ) );
                krugerWall3.position.y = 300;
                krugerWall3.position.x = 435;
                krugerWall3.position.z = 500;
                krugerWall3.rotation.y = -125;

                var krugerMaterials4 = [
                new THREE.MeshBasicMaterial( { } ),
                new THREE.MeshBasicMaterial( { } ),
                new THREE.MeshBasicMaterial( { } ),
                new THREE.MeshBasicMaterial( { } ),
                new THREE.MeshLambertMaterial({ }),
                new THREE.MeshBasicMaterial( { 
                    ambient: 0xffffff,
                    map: THREE.ImageUtils.loadTexture( 'textures/kruger4.png' )} )
                ];

                krugerWall4 = new THREE.Mesh(
                new THREE.CubeGeometry( 400, 600, 20),
                new THREE.MeshFaceMaterial( krugerMaterials4 ) );
                krugerWall4.position.y = 300;
                krugerWall4.position.x = 435;
                krugerWall4.position.z = 500;
                krugerWall4.rotation.y = -125;


                var krugerMaterials5 = [
                new THREE.MeshBasicMaterial( { } ),
                new THREE.MeshBasicMaterial( { } ),
                new THREE.MeshBasicMaterial( { } ),
                new THREE.MeshBasicMaterial( { } ),
                new THREE.MeshLambertMaterial({ }),
                new THREE.MeshBasicMaterial( { 
                    ambient: 0xffffff,
                    map: THREE.ImageUtils.loadTexture( 'textures/kruger5.png' )} )
                ];

                krugerWall5 = new THREE.Mesh(
                new THREE.CubeGeometry( 400, 600, 20),
                new THREE.MeshFaceMaterial( krugerMaterials5 ) );
                krugerWall5.position.y = 300;
                krugerWall5.position.x = 435;
                krugerWall5.position.z = 500;
                krugerWall5.rotation.y = -125;

                var krugerMaterials6 = [
                new THREE.MeshBasicMaterial( { } ),
                new THREE.MeshBasicMaterial( { } ),
                new THREE.MeshBasicMaterial( { } ),
                new THREE.MeshBasicMaterial( { } ),
                new THREE.MeshLambertMaterial({ }),
                new THREE.MeshBasicMaterial( { 
                    ambient: 0xffffff,
                    map: THREE.ImageUtils.loadTexture( 'textures/kruger6.png' )} )
                ];

                krugerWall6 = new THREE.Mesh(
                new THREE.CubeGeometry( 400, 600, 20),
                new THREE.MeshFaceMaterial( krugerMaterials6 ) );
                krugerWall6.position.y = 300;
                krugerWall6.position.x = 435;
                krugerWall6.position.z = 500;
                krugerWall6.rotation.y = -125;
       
            function startTimer() {
                barbTimer = setInterval(barbAnimation, 0250); 
            }

            function barbAnimation() {
                  if ( currentWall === 0 ) {
                    scene.remove( krugerWall6 )
                    scene.add( krugerWall );
                    currentWall++;
                  }   
                  else if ( currentWall === 1 ) {
                    scene.remove( krugerWall6 )
                    scene.remove( krugerWall );
                    scene.add( krugerWall2 );
                    currentWall++;
                  }             
                  else if ( currentWall === 2 ) {
                    scene.remove( krugerWall2 );
                    scene.add( krugerWall3 );
                    currentWall++;
                  }  
                  else if ( currentWall === 3 ) {
                    scene.remove( krugerWall3 );
                    scene.add( krugerWall4 );
                    currentWall++;
                  }  
                  else if ( currentWall === 4 ) {
                    scene.remove( krugerWall4 );
                    scene.add( krugerWall5 );
                    currentWall++;
                  }
                   else if ( currentWall === 5 ) {
                    scene.remove( krugerWall5 );
                    scene.add( krugerWall6 );
                    window.currentWall = 0;
                  }  
              }
              currentWall = 1;
              startTimer();

               var krugerCardMaterials = [
                new THREE.MeshBasicMaterial( {} ),
                new THREE.MeshBasicMaterial( {} ),
                new THREE.MeshBasicMaterial( {} ),
                new THREE.MeshBasicMaterial( {} ),
                new THREE.MeshLambertMaterial({}),
                new THREE.MeshBasicMaterial( {
                    ambient: 0xffffff,
                    map: THREE.ImageUtils.loadTexture( 'textures/krugerCard.png' ) } )
              ];

                krugerLabel = new THREE.Mesh(
                new THREE.CubeGeometry( 10, 5, 0.5),
                new THREE.MeshFaceMaterial( krugerCardMaterials ) );
                scene.add( krugerLabel );
                krugerLabel.position.y = 32.5;
                krugerLabel.position.x = 505;
                krugerLabel.position.z = 310;
                krugerLabel.rotation.y = -125; 

          

                // ------- LAST FEMALE ARTIST -------//

              whiteBox = new THREE.Mesh(
                new THREE.CubeGeometry( 20, 20, 20 ),
                new THREE.MeshBasicMaterial({}) );


              for(var i = 0; i < 10; i++){ 
                    var newModel = whiteBox.clone();
                        newModel.position.set(i,i*4 +10,i);
                        // newModel.scale.set(i+1,i+1,i+1);
                        scene.add(newModel); 
              }  


                      // texture

                var manager = new THREE.LoadingManager();

                manager.onProgress = function ( item, loaded, total ) {

                  console.log( item, loaded, total );

                };

                var texture = new THREE.Texture();


                var loader = new THREE.OBJLoader( manager );
                loader.load( 'models/chair.obj', function ( object ) {

                  object.traverse( function ( child ) {

                    if ( child instanceof THREE.Mesh ) {

                      child.material.map = texture;

                    }

                  } );

                  object.position.y = - 80;
                  scene.add( object );

                } );



                // loader.addEventListener( 'load', function ( event ) {
                    
                //     // for ( var i = 0; i < 10; i ++ ) {
                //     var object = event.content;
                //     scene.add( object );
                //     object.position.x = Math.floor( Math.random() * 20 - 10 ) * 20;
                //     object.position.y = Math.floor( Math.random() * 20 ) * 20 + 10;
                //     object.position.z = Math.floor( Math.random() * 20 - 10 ) * 20;
                    
                //   // }
                // });
                // loader.load( 'models/Rmutt.obj', 'models/Rmutt.mtl' )


        // }

              }


                //////////////////////////////
                //** --    ANIMATION --   **//
                //////////////////////////////


            function animate() {
                requestAnimationFrame( animate );
                controls.isOnObject( false );
                ray.ray.origin.copy( controls.getObject().position );
                ray.ray.origin.y -= 10;  
                ray.ray.origin.z -= 10;  
                var intersections = ray.intersectObjects( objects );
                if ( intersections.length > 0 ) {
                    var distance = intersections[ 0 ].distance;
                    if ( distance > 0 && distance < 10 ) {
                        controls.isOnObject( true );
                    }
                }
                controls.update( Date.now() - time );
                renderer.render( scene, camera );
                time = Date.now();
            }



                //////////////////////////////////
                //** --    WINDOW EVENTS --   **//
                //////////////////////////////////

renderer = new THREE.WebGLRenderer({
          preserveDrawingBuffer : true  // to allow screenshot
        });

             renderer.setSize( window.innerWidth, window.innerHeight );

            document.body.appendChild( renderer.domElement );
            window.addEventListener( 'resize', onWindowResize, false );


            function onWindowResize() {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize( window.innerWidth, window.innerHeight );
            }

            init();
            animate();
            THREEx.Screenshot.bindKey(renderer);


        </script>
    </body>
</html>
